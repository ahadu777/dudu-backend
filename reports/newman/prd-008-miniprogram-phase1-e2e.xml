<?xml version="1.0" encoding="UTF-8"?>
<testsuites name="PRD-008 DeepTravel 小程序 Phase 1 - Package Booking" tests="31" time="5.676">
  <testsuite name="0. Prerequisites - Auth Setup / 0.1 Auth Setup (Token pre-configured)" id="ccdeb63f-1824-4b25-8e91-6d09a09e2d4a" timestamp="2025-12-25T07:16:37.270Z" tests="2" failures="0" errors="0" time="0.011">
    <testcase name="Server is healthy" time="0.011" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Auth token is configured" time="0.011" classname="Prd008DeepTravelPhase1PackageBooking"/>
  </testsuite>
  <testsuite name="F0. WeChat Authentication (merged from PRD-004) / F0.1 WeChat Login - Empty Code (Validation)" id="1563b2e4-1859-488f-a85a-767ca9e601c9" timestamp="2025-12-25T07:16:37.270Z" tests="3" failures="0" errors="0" time="0.003">
    <testcase name="Status code is 400 (Bad Request)" time="0.003" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Returns validation error" time="0.003" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Has error details" time="0.003" classname="Prd008DeepTravelPhase1PackageBooking"/>
  </testsuite>
  <testsuite name="F0. WeChat Authentication (merged from PRD-004) / F0.2 WeChat Login - Missing Code" id="230ceb45-2e5b-41b9-aedf-94946955be0f" timestamp="2025-12-25T07:16:37.270Z" tests="2" failures="0" errors="0" time="0.002">
    <testcase name="Status code is 400 (Bad Request)" time="0.002" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Returns validation error for missing code" time="0.002" classname="Prd008DeepTravelPhase1PackageBooking"/>
  </testsuite>
  <testsuite name="F0. WeChat Authentication (merged from PRD-004) / F0.3 WeChat Login - Invalid Code (WeChat Rejects)" id="4981cabc-7f41-453a-b83a-67f4d96f61fc" timestamp="2025-12-25T07:16:37.270Z" tests="2" failures="0" errors="0" time="0.175">
    <testcase name="Status code is 401 or 422 (WeChat rejects invalid code)" time="0.175" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Returns auth failed error" time="0.175" classname="Prd008DeepTravelPhase1PackageBooking"/>
  </testsuite>
  <testsuite name="F0. WeChat Authentication (merged from PRD-004) / F0.4 Phone Binding - No JWT Token" id="14c61315-da1f-4d44-8057-1e2a46111df1" timestamp="2025-12-25T07:16:37.270Z" tests="2" failures="0" errors="0" time="0.001">
    <testcase name="Status code is 401 (Unauthorized)" time="0.001" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Returns unauthorized error" time="0.001" classname="Prd008DeepTravelPhase1PackageBooking"/>
  </testsuite>
  <testsuite name="F0. WeChat Authentication (merged from PRD-004) / F0.5 Phone Binding - Invalid JWT Token" id="3995ed66-4339-4748-aa6b-e1f436f77e43" timestamp="2025-12-25T07:16:37.270Z" tests="2" failures="0" errors="0" time="0.002">
    <testcase name="Status code is 401 (Unauthorized)" time="0.002" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Returns unauthorized error for invalid token" time="0.002" classname="Prd008DeepTravelPhase1PackageBooking"/>
  </testsuite>
  <testsuite name="F0. WeChat Authentication (merged from PRD-004) / F0.6 Login Response Time (&lt;500ms)" id="93ab31df-c900-47eb-a37e-f25a2cfcec2e" timestamp="2025-12-25T07:16:37.270Z" tests="1" failures="0" errors="0" time="0.154">
    <testcase name="Login response time &lt;500ms" time="0.154" classname="Prd008DeepTravelPhase1PackageBooking"/>
  </testsuite>
  <testsuite name="A1. Product Catalog - Direct Channel / A1.1 Get product list (default)" id="9ef8a813-d72b-4148-8cb2-6ea340271744" timestamp="2025-12-25T07:16:37.270Z" tests="5" failures="0" errors="0" time="0.632">
    <testcase name="Returns 200" time="0.632" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Returns product array" time="0.632" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Has pagination info" time="0.632" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Products have required fields" time="0.632" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Products show availability from direct channel" time="0.632" classname="Prd008DeepTravelPhase1PackageBooking"/>
  </testsuite>
  <testsuite name="A1. Product Catalog - Direct Channel / A1.2 Product list pagination" id="15c05013-81a5-44cd-a1ae-07595efa1706" timestamp="2025-12-25T07:16:37.270Z" tests="2" failures="0" errors="0" time="0.692">
    <testcase name="Returns 200" time="0.692" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Respects pagination params" time="0.692" classname="Prd008DeepTravelPhase1PackageBooking"/>
  </testsuite>
  <testsuite name="A2. Product Detail - Package Inclusions / A2.1 Get product detail - cruise package" id="10061cb5-bf88-4209-a37f-42c228f7cba1" timestamp="2025-12-25T07:16:37.270Z" tests="5" failures="0" errors="0" time="0.344">
    <testcase name="Returns 200" time="0.344" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Returns product detail" time="0.344" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Has pricing info" time="0.344" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Has package functions/inclusions" time="0.344" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Has availability info" time="0.344" classname="Prd008DeepTravelPhase1PackageBooking"/>
  </testsuite>
  <testsuite name="A2. Product Detail - Package Inclusions / A2.2 Product not found" id="6fb59447-911e-4e3d-8a80-c9a9b04cd5e0" timestamp="2025-12-25T07:16:37.270Z" tests="2" failures="0" errors="0" time="0.344">
    <testcase name="Returns 404" time="0.344" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Returns NOT_FOUND error" time="0.344" classname="Prd008DeepTravelPhase1PackageBooking"/>
  </testsuite>
  <testsuite name="A2. Product Detail - Package Inclusions / A2.3 Invalid product ID" id="fb44491d-4fe0-4577-afee-189159ead4de" timestamp="2025-12-25T07:16:37.270Z" tests="2" failures="0" errors="0" time="0.001">
    <testcase name="Returns 400" time="0.001" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Returns validation error" time="0.001" classname="Prd008DeepTravelPhase1PackageBooking"/>
  </testsuite>
  <testsuite name="A3. Inventory Availability / A3.1 Check availability (default)" id="dc3c608b-e317-4e30-8457-94b22ad155e8" timestamp="2025-12-25T07:16:37.270Z" tests="4" failures="0" errors="0" time="1.053">
    <testcase name="Returns 200" time="1.053" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Returns availability info" time="1.053" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Availability is boolean" time="1.053" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Available count is number" time="1.053" classname="Prd008DeepTravelPhase1PackageBooking"/>
  </testsuite>
  <testsuite name="A3. Inventory Availability / A3.2 Check availability with quantity" id="e0acd9f5-4e8c-4b3b-80a5-2656829ca328" timestamp="2025-12-25T07:16:37.270Z" tests="3" failures="0" errors="0" time="1.580">
    <testcase name="Returns 200" time="1.580" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Checks requested quantity" time="1.580" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="is_available reflects quantity check" time="1.580" classname="Prd008DeepTravelPhase1PackageBooking"/>
  </testsuite>
  <testsuite name="A3. Inventory Availability / A3.3 Availability - product not found" id="d97d4b1e-8231-46e3-b59a-d016cfcf418c" timestamp="2025-12-25T07:16:37.270Z" tests="1" failures="0" errors="0" time="0.663">
    <testcase name="Returns 404" time="0.663" classname="Prd008DeepTravelPhase1PackageBooking"/>
  </testsuite>
  <testsuite name="A4. Order Creation (DB Required) / A4.1 Create order - success" id="1ecc21cc-dbd8-4198-b4ca-23dd49e86b29" timestamp="2025-12-25T07:16:37.270Z" tests="4" failures="4" errors="0" time="0.002">
    <testcase name="Returns 201" time="0.002" classname="Prd008DeepTravelPhase1PackageBooking">
      <failure type="AssertionFailure" message="expected response to have status code 201 but got 401">
        <![CDATA[Failed 1 times.]]>
        <![CDATA[Collection JSON ID: prd-008-miniprogram-phase1.]]>
        <![CDATA[Collection name: PRD-008 DeepTravel 小程序 Phase 1 - Package Booking.]]>
        <![CDATA[Request name: A4. Order Creation (DB Required) / A4.1 Create order - success.]]>
        <![CDATA[Test description: Returns 201.]]>
        <![CDATA[Error message: expected response to have status code 201 but got 401.]]>
        <![CDATA[Stacktrace: AssertionError: expected response to have status code 201 but got 401
   at Object.eval sandbox-script.js:1:16).]]>
      </failure>
    </testcase>
    <testcase name="Returns order with ID" time="0.002" classname="Prd008DeepTravelPhase1PackageBooking">
      <failure type="AssertionFailure" message="expected { code: 'INTERNAL_ERROR', …(1) } to have property 'id'">
        <![CDATA[Failed 1 times.]]>
        <![CDATA[Collection JSON ID: prd-008-miniprogram-phase1.]]>
        <![CDATA[Collection name: PRD-008 DeepTravel 小程序 Phase 1 - Package Booking.]]>
        <![CDATA[Request name: A4. Order Creation (DB Required) / A4.1 Create order - success.]]>
        <![CDATA[Test description: Returns order with ID.]]>
        <![CDATA[Error message: expected { code: 'INTERNAL_ERROR', …(1) } to have property 'id'.]]>
        <![CDATA[Stacktrace: AssertionError: expected { code: 'INTERNAL_ERROR', …(1) } to have property 'id'
   at Object.eval sandbox-script.js:2:16).]]>
      </failure>
    </testcase>
    <testcase name="Has pricing context" time="0.002" classname="Prd008DeepTravelPhase1PackageBooking">
      <failure type="AssertionFailure" message="expected { code: 'INTERNAL_ERROR', …(1) } to have property 'pricing_context'">
        <![CDATA[Failed 1 times.]]>
        <![CDATA[Collection JSON ID: prd-008-miniprogram-phase1.]]>
        <![CDATA[Collection name: PRD-008 DeepTravel 小程序 Phase 1 - Package Booking.]]>
        <![CDATA[Request name: A4. Order Creation (DB Required) / A4.1 Create order - success.]]>
        <![CDATA[Test description: Has pricing context.]]>
        <![CDATA[Error message: expected { code: 'INTERNAL_ERROR', …(1) } to have property 'pricing_context'.]]>
        <![CDATA[Stacktrace: AssertionError: expected { code: 'INTERNAL_ERROR', …(1) } to have property 'pricing_context'
   at Object.eval sandbox-script.js:3:16).]]>
      </failure>
    </testcase>
    <testcase name="Total calculated correctly" time="0.002" classname="Prd008DeepTravelPhase1PackageBooking">
      <failure type="AssertionFailure" message="Cannot read properties of undefined (reading 'subtotal')">
        <![CDATA[Failed 1 times.]]>
        <![CDATA[Collection JSON ID: prd-008-miniprogram-phase1.]]>
        <![CDATA[Collection name: PRD-008 DeepTravel 小程序 Phase 1 - Package Booking.]]>
        <![CDATA[Request name: A4. Order Creation (DB Required) / A4.1 Create order - success.]]>
        <![CDATA[Test description: Total calculated correctly.]]>
        <![CDATA[Error message: Cannot read properties of undefined (reading 'subtotal').]]>
        <![CDATA[Stacktrace: TypeError: Cannot read properties of undefined (reading 'subtotal')
   at Object.eval sandbox-script.js:4:16).]]>
      </failure>
    </testcase>
  </testsuite>
  <testsuite name="A4. Order Creation (DB Required) / A4.2 Error - missing order_no" id="536ecdb5-e544-40b4-bfb8-c74da6d043ce" timestamp="2025-12-25T07:16:37.270Z" tests="2" failures="2" errors="0" time="0.001">
    <testcase name="Returns 400" time="0.001" classname="Prd008DeepTravelPhase1PackageBooking">
      <failure type="AssertionFailure" message="expected response to have status code 400 but got 401">
        <![CDATA[Failed 1 times.]]>
        <![CDATA[Collection JSON ID: prd-008-miniprogram-phase1.]]>
        <![CDATA[Collection name: PRD-008 DeepTravel 小程序 Phase 1 - Package Booking.]]>
        <![CDATA[Request name: A4. Order Creation (DB Required) / A4.2 Error - missing order_no.]]>
        <![CDATA[Test description: Returns 400.]]>
        <![CDATA[Error message: expected response to have status code 400 but got 401.]]>
        <![CDATA[Stacktrace: AssertionError: expected response to have status code 400 but got 401
   at Object.eval sandbox-script.js:1:17).]]>
      </failure>
    </testcase>
    <testcase name="Returns INVALID_REQUEST" time="0.001" classname="Prd008DeepTravelPhase1PackageBooking">
      <failure type="AssertionFailure" message="expected 'INTERNAL_ERROR' to equal 'INVALID_REQUEST'">
        <![CDATA[Failed 1 times.]]>
        <![CDATA[Collection JSON ID: prd-008-miniprogram-phase1.]]>
        <![CDATA[Collection name: PRD-008 DeepTravel 小程序 Phase 1 - Package Booking.]]>
        <![CDATA[Request name: A4. Order Creation (DB Required) / A4.2 Error - missing order_no.]]>
        <![CDATA[Test description: Returns INVALID_REQUEST.]]>
        <![CDATA[Error message: expected 'INTERNAL_ERROR' to equal 'INVALID_REQUEST'.]]>
        <![CDATA[Stacktrace: AssertionError: expected 'INTERNAL_ERROR' to equal 'INVALID_REQUEST'
   at Object.eval sandbox-script.js:2:17).]]>
      </failure>
    </testcase>
  </testsuite>
  <testsuite name="A4. Order Creation (DB Required) / A4.3 Error - invalid customer type" id="c9cab9bc-00ab-4f29-9441-2b6003aa7ead" timestamp="2025-12-25T07:16:37.270Z" tests="2" failures="2" errors="0" time="0.001">
    <testcase name="Returns 400" time="0.001" classname="Prd008DeepTravelPhase1PackageBooking">
      <failure type="AssertionFailure" message="expected response to have status code 400 but got 401">
        <![CDATA[Failed 1 times.]]>
        <![CDATA[Collection JSON ID: prd-008-miniprogram-phase1.]]>
        <![CDATA[Collection name: PRD-008 DeepTravel 小程序 Phase 1 - Package Booking.]]>
        <![CDATA[Request name: A4. Order Creation (DB Required) / A4.3 Error - invalid customer type.]]>
        <![CDATA[Test description: Returns 400.]]>
        <![CDATA[Error message: expected response to have status code 400 but got 401.]]>
        <![CDATA[Stacktrace: AssertionError: expected response to have status code 400 but got 401
   at Object.eval sandbox-script.js:1:18).]]>
      </failure>
    </testcase>
    <testcase name="Returns INVALID_REQUEST" time="0.001" classname="Prd008DeepTravelPhase1PackageBooking">
      <failure type="AssertionFailure" message="expected 'INTERNAL_ERROR' to equal 'INVALID_REQUEST'">
        <![CDATA[Failed 1 times.]]>
        <![CDATA[Collection JSON ID: prd-008-miniprogram-phase1.]]>
        <![CDATA[Collection name: PRD-008 DeepTravel 小程序 Phase 1 - Package Booking.]]>
        <![CDATA[Request name: A4. Order Creation (DB Required) / A4.3 Error - invalid customer type.]]>
        <![CDATA[Test description: Returns INVALID_REQUEST.]]>
        <![CDATA[Error message: expected 'INTERNAL_ERROR' to equal 'INVALID_REQUEST'.]]>
        <![CDATA[Stacktrace: AssertionError: expected 'INTERNAL_ERROR' to equal 'INVALID_REQUEST'
   at Object.eval sandbox-script.js:2:18).]]>
      </failure>
    </testcase>
  </testsuite>
  <testsuite name="A4. Order Creation (DB Required) / A4.4 Error - unauthorized" id="59d8f2f7-2e49-4e4b-9ad6-4833e26c910a" timestamp="2025-12-25T07:16:37.270Z" tests="1" failures="0" errors="0" time="0.002">
    <testcase name="Returns 401" time="0.002" classname="Prd008DeepTravelPhase1PackageBooking"/>
  </testsuite>
  <testsuite name="A5. Order Management (DB Required) / A5.1 Get order list" id="278efeef-8155-4f4a-b206-1e2cec661f39" timestamp="2025-12-25T07:16:37.270Z" tests="3" failures="3" errors="0" time="0.000">
    <testcase name="Returns 200" time="0.000" classname="Prd008DeepTravelPhase1PackageBooking">
      <failure type="AssertionFailure" message="expected response to have status code 200 but got 401">
        <![CDATA[Failed 1 times.]]>
        <![CDATA[Collection JSON ID: prd-008-miniprogram-phase1.]]>
        <![CDATA[Collection name: PRD-008 DeepTravel 小程序 Phase 1 - Package Booking.]]>
        <![CDATA[Request name: A5. Order Management (DB Required) / A5.1 Get order list.]]>
        <![CDATA[Test description: Returns 200.]]>
        <![CDATA[Error message: expected response to have status code 200 but got 401.]]>
        <![CDATA[Stacktrace: AssertionError: expected response to have status code 200 but got 401
   at Object.eval sandbox-script.js:1:20).]]>
      </failure>
    </testcase>
    <testcase name="Returns orders array" time="0.000" classname="Prd008DeepTravelPhase1PackageBooking">
      <failure type="AssertionFailure" message="expected { code: 'INTERNAL_ERROR', …(1) } to have property 'orders'">
        <![CDATA[Failed 1 times.]]>
        <![CDATA[Collection JSON ID: prd-008-miniprogram-phase1.]]>
        <![CDATA[Collection name: PRD-008 DeepTravel 小程序 Phase 1 - Package Booking.]]>
        <![CDATA[Request name: A5. Order Management (DB Required) / A5.1 Get order list.]]>
        <![CDATA[Test description: Returns orders array.]]>
        <![CDATA[Error message: expected { code: 'INTERNAL_ERROR', …(1) } to have property 'orders'.]]>
        <![CDATA[Stacktrace: AssertionError: expected { code: 'INTERNAL_ERROR', …(1) } to have property 'orders'
   at Object.eval sandbox-script.js:2:20).]]>
      </failure>
    </testcase>
    <testcase name="Has pagination info" time="0.000" classname="Prd008DeepTravelPhase1PackageBooking">
      <failure type="AssertionFailure" message="expected { code: 'INTERNAL_ERROR', …(1) } to have property 'total'">
        <![CDATA[Failed 1 times.]]>
        <![CDATA[Collection JSON ID: prd-008-miniprogram-phase1.]]>
        <![CDATA[Collection name: PRD-008 DeepTravel 小程序 Phase 1 - Package Booking.]]>
        <![CDATA[Request name: A5. Order Management (DB Required) / A5.1 Get order list.]]>
        <![CDATA[Test description: Has pagination info.]]>
        <![CDATA[Error message: expected { code: 'INTERNAL_ERROR', …(1) } to have property 'total'.]]>
        <![CDATA[Stacktrace: AssertionError: expected { code: 'INTERNAL_ERROR', …(1) } to have property 'total'
   at Object.eval sandbox-script.js:3:20).]]>
      </failure>
    </testcase>
  </testsuite>
  <testsuite name="A5. Order Management (DB Required) / A5.2 Get order detail" id="b161fd0b-fa43-4c01-bce9-b5bef468306e" timestamp="2025-12-25T07:16:37.270Z" tests="1" failures="0" errors="0" time="0.001">
    <testcase name="No order created to test detail" time="0.001" classname="Prd008DeepTravelPhase1PackageBooking"/>
  </testsuite>
  <testsuite name="A5. Order Management (DB Required) / A5.3 Error - unauthorized" id="03cf2c1e-157d-4601-a03a-ad07d9be0d1c" timestamp="2025-12-25T07:16:37.270Z" tests="1" failures="0" errors="0" time="0.001">
    <testcase name="Returns 401" time="0.001" classname="Prd008DeepTravelPhase1PackageBooking"/>
  </testsuite>
  <testsuite name="A6. Simulate Payment (DB Required) / A6.1 Simulate payment - success" id="e884880f-8afc-469f-8039-4b491f093ba5" timestamp="2025-12-25T07:16:37.270Z" tests="1" failures="0" errors="0" time="0.002">
    <testcase name="No order created to test payment" time="0.002" classname="Prd008DeepTravelPhase1PackageBooking"/>
  </testsuite>
  <testsuite name="A6. Simulate Payment (DB Required) / A6.2 Error - order not found" id="59f51d41-27d7-4ab1-907f-1c9a9cdf1c85" timestamp="2025-12-25T07:16:37.270Z" tests="2" failures="2" errors="0" time="0.001">
    <testcase name="Returns 404" time="0.001" classname="Prd008DeepTravelPhase1PackageBooking">
      <failure type="AssertionFailure" message="expected response to have status code 404 but got 401">
        <![CDATA[Failed 1 times.]]>
        <![CDATA[Collection JSON ID: prd-008-miniprogram-phase1.]]>
        <![CDATA[Collection name: PRD-008 DeepTravel 小程序 Phase 1 - Package Booking.]]>
        <![CDATA[Request name: A6. Simulate Payment (DB Required) / A6.2 Error - order not found.]]>
        <![CDATA[Test description: Returns 404.]]>
        <![CDATA[Error message: expected response to have status code 404 but got 401.]]>
        <![CDATA[Stacktrace: AssertionError: expected response to have status code 404 but got 401
   at Object.eval sandbox-script.js:1:24).]]>
      </failure>
    </testcase>
    <testcase name="Returns ORDER_NOT_FOUND" time="0.001" classname="Prd008DeepTravelPhase1PackageBooking">
      <failure type="AssertionFailure" message="expected 'INTERNAL_ERROR' to equal 'ORDER_NOT_FOUND'">
        <![CDATA[Failed 1 times.]]>
        <![CDATA[Collection JSON ID: prd-008-miniprogram-phase1.]]>
        <![CDATA[Collection name: PRD-008 DeepTravel 小程序 Phase 1 - Package Booking.]]>
        <![CDATA[Request name: A6. Simulate Payment (DB Required) / A6.2 Error - order not found.]]>
        <![CDATA[Test description: Returns ORDER_NOT_FOUND.]]>
        <![CDATA[Error message: expected 'INTERNAL_ERROR' to equal 'ORDER_NOT_FOUND'.]]>
        <![CDATA[Stacktrace: AssertionError: expected 'INTERNAL_ERROR' to equal 'ORDER_NOT_FOUND'
   at Object.eval sandbox-script.js:2:24).]]>
      </failure>
    </testcase>
  </testsuite>
  <testsuite name="A6. Simulate Payment (DB Required) / A6.3 Error - already paid (invalid status)" id="35ebb49d-c149-4770-bd7d-209366235f8e" timestamp="2025-12-25T07:16:37.270Z" tests="2" failures="2" errors="0" time="0.002">
    <testcase name="Returns 200 or 400" time="0.002" classname="Prd008DeepTravelPhase1PackageBooking">
      <failure type="AssertionFailure" message="expected [ 200, 400 ] to include 404">
        <![CDATA[Failed 1 times.]]>
        <![CDATA[Collection JSON ID: prd-008-miniprogram-phase1.]]>
        <![CDATA[Collection name: PRD-008 DeepTravel 小程序 Phase 1 - Package Booking.]]>
        <![CDATA[Request name: A6. Simulate Payment (DB Required) / A6.3 Error - already paid (invalid status).]]>
        <![CDATA[Test description: Returns 200 or 400.]]>
        <![CDATA[Error message: expected [ 200, 400 ] to include 404.]]>
        <![CDATA[Stacktrace: AssertionError: expected [ 200, 400 ] to include 404
   at Object.eval sandbox-script.js:1:25).]]>
      </failure>
    </testcase>
    <testcase name="Payment is idempotent (returns success message)" time="0.002" classname="Prd008DeepTravelPhase1PackageBooking">
      <failure type="AssertionFailure" message="Unexpected token '&lt;' at 1:1&#xA;&lt;!DOCTYPE html>&#xA;^">
        <![CDATA[Failed 1 times.]]>
        <![CDATA[Collection JSON ID: prd-008-miniprogram-phase1.]]>
        <![CDATA[Collection name: PRD-008 DeepTravel 小程序 Phase 1 - Package Booking.]]>
        <![CDATA[Request name: A6. Simulate Payment (DB Required) / A6.3 Error - already paid (invalid status).]]>
        <![CDATA[Test description: Payment is idempotent (returns success message).]]>
        <![CDATA[Error message: Unexpected token '<' at 1:1
<!DOCTYPE html>
^.]]>
        <![CDATA[Stacktrace: JSONError: Unexpected token '<' at 1:1
<!DOCTYPE html>
^
   at Object.eval sandbox-script.js:2:25).]]>
      </failure>
    </testcase>
  </testsuite>
  <testsuite name="A6. Simulate Payment (DB Required) / A6.4 Error - unauthorized" id="3fbe78bc-d1cf-4464-8a7f-a88ef26f2278" timestamp="2025-12-25T07:16:37.270Z" tests="1" failures="0" errors="0" time="0.001">
    <testcase name="Returns 401" time="0.001" classname="Prd008DeepTravelPhase1PackageBooking"/>
  </testsuite>
  <testsuite name="A7. Ticket QR Generation (DB Required) / A7.1 Generate QR - success (default expiry)" id="5142a73b-6a05-4351-b432-e9e600ec21bb" timestamp="2025-12-25T07:16:37.270Z" tests="1" failures="0" errors="0" time="0.001">
    <testcase name="No ticket available for QR test" time="0.001" classname="Prd008DeepTravelPhase1PackageBooking"/>
  </testsuite>
  <testsuite name="A7. Ticket QR Generation (DB Required) / A7.2 Generate QR - custom expiry (60 min)" id="ea2c41fd-c1db-4545-825c-9e032316e7e5" timestamp="2025-12-25T07:16:37.270Z" tests="1" failures="0" errors="0" time="0.001">
    <testcase name="No ticket available for QR test" time="0.001" classname="Prd008DeepTravelPhase1PackageBooking"/>
  </testsuite>
  <testsuite name="A7. Ticket QR Generation (DB Required) / A7.3 Error - ticket not found" id="3c0e4057-500a-4b53-ba82-615acde43854" timestamp="2025-12-25T07:16:37.270Z" tests="1" failures="0" errors="0" time="0.001">
    <testcase name="Requires valid auth token - WeChat login may have failed" time="0.001" classname="Prd008DeepTravelPhase1PackageBooking"/>
  </testsuite>
  <testsuite name="A7. Ticket QR Generation (DB Required) / A7.4 Error - invalid expiry" id="82fa9f88-3cbc-4612-8d22-e54596cf33e1" timestamp="2025-12-25T07:16:37.270Z" tests="1" failures="0" errors="0" time="0.001">
    <testcase name="No ticket available for expiry test" time="0.001" classname="Prd008DeepTravelPhase1PackageBooking"/>
  </testsuite>
  <testsuite name="A7. Ticket QR Generation (DB Required) / A7.5 Error - unauthorized" id="ef1ae6cd-2172-4ec1-ac69-c6baa212dfa6" timestamp="2025-12-25T07:16:37.270Z" tests="1" failures="0" errors="0" time="0.001">
    <testcase name="Returns 401" time="0.001" classname="Prd008DeepTravelPhase1PackageBooking"/>
  </testsuite>
</testsuites>