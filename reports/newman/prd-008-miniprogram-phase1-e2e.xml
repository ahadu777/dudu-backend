<?xml version="1.0" encoding="UTF-8"?>
<testsuites name="PRD-008 DeepTravel 小程序 Phase 1 - Package Booking" tests="25" time="21.915">
  <testsuite name="0. Prerequisites - Auth Setup / 0.1 Auth Setup (Token pre-configured)" id="52e25393-97eb-46cb-bf96-f54e7b46a085" timestamp="2025-12-11T02:57:57.745Z" tests="2" failures="0" errors="0" time="0.014">
    <testcase name="Server is healthy" time="0.014" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Auth token is configured" time="0.014" classname="Prd008DeepTravelPhase1PackageBooking"/>
  </testsuite>
  <testsuite name="A1. Product Catalog - Direct Channel / A1.1 Get product list (default)" id="3281f962-2751-48e1-bfb2-85304b3c5633" timestamp="2025-12-11T02:57:57.745Z" tests="5" failures="0" errors="0" time="0.375">
    <testcase name="Returns 200" time="0.375" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Returns product array" time="0.375" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Has pagination info" time="0.375" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Products have required fields" time="0.375" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Products show availability from direct channel" time="0.375" classname="Prd008DeepTravelPhase1PackageBooking"/>
  </testsuite>
  <testsuite name="A1. Product Catalog - Direct Channel / A1.2 Product list pagination" id="0fc1ee3c-b4bd-44a5-b914-b390a658171c" timestamp="2025-12-11T02:57:57.745Z" tests="2" failures="0" errors="0" time="0.335">
    <testcase name="Returns 200" time="0.335" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Respects pagination params" time="0.335" classname="Prd008DeepTravelPhase1PackageBooking"/>
  </testsuite>
  <testsuite name="A2. Product Detail - Package Inclusions / A2.1 Get product detail - cruise package" id="29c027c1-886f-478e-9854-2176575e1d35" timestamp="2025-12-11T02:57:57.745Z" tests="5" failures="0" errors="0" time="0.320">
    <testcase name="Returns 200" time="0.320" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Returns product detail" time="0.320" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Has pricing info" time="0.320" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Has package functions/inclusions" time="0.320" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Has availability info" time="0.320" classname="Prd008DeepTravelPhase1PackageBooking"/>
  </testsuite>
  <testsuite name="A2. Product Detail - Package Inclusions / A2.2 Product not found" id="81c64bad-1692-470b-a15c-fc9acbf9a17b" timestamp="2025-12-11T02:57:57.745Z" tests="2" failures="0" errors="0" time="0.308">
    <testcase name="Returns 404" time="0.308" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Returns NOT_FOUND error" time="0.308" classname="Prd008DeepTravelPhase1PackageBooking"/>
  </testsuite>
  <testsuite name="A2. Product Detail - Package Inclusions / A2.3 Invalid product ID" id="f11a6080-d25a-40dd-bdcc-556eeb8a2e98" timestamp="2025-12-11T02:57:57.745Z" tests="2" failures="0" errors="0" time="0.002">
    <testcase name="Returns 400" time="0.002" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Returns validation error" time="0.002" classname="Prd008DeepTravelPhase1PackageBooking"/>
  </testsuite>
  <testsuite name="A3. Inventory Availability / A3.1 Check availability (default)" id="608a1e87-b2fc-447a-8710-ad3b6e38d420" timestamp="2025-12-11T02:57:57.745Z" tests="4" failures="0" errors="0" time="0.956">
    <testcase name="Returns 200" time="0.956" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Returns availability info" time="0.956" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Availability is boolean" time="0.956" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Available count is number" time="0.956" classname="Prd008DeepTravelPhase1PackageBooking"/>
  </testsuite>
  <testsuite name="A3. Inventory Availability / A3.2 Check availability with quantity" id="aa4e248b-e9e6-4e35-933a-e249a50b5223" timestamp="2025-12-11T02:57:57.745Z" tests="3" failures="0" errors="0" time="0.972">
    <testcase name="Returns 200" time="0.972" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Checks requested quantity" time="0.972" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="is_available reflects quantity check" time="0.972" classname="Prd008DeepTravelPhase1PackageBooking"/>
  </testsuite>
  <testsuite name="A3. Inventory Availability / A3.3 Availability - product not found" id="430cc74d-3ddc-4b25-adf8-5e015be9919c" timestamp="2025-12-11T02:57:57.745Z" tests="1" failures="0" errors="0" time="0.620">
    <testcase name="Returns 404" time="0.620" classname="Prd008DeepTravelPhase1PackageBooking"/>
  </testsuite>
  <testsuite name="A4. Order Creation (DB Required) / A4.1 Create order - success" id="957aa2f7-6ac5-41e6-a348-f2ee0a34c2fb" timestamp="2025-12-11T02:57:57.745Z" tests="4" failures="0" errors="0" time="3.125">
    <testcase name="Returns 201" time="3.125" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Returns order with ID" time="3.125" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Has pricing context" time="3.125" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Total calculated correctly" time="3.125" classname="Prd008DeepTravelPhase1PackageBooking"/>
  </testsuite>
  <testsuite name="A4. Order Creation (DB Required) / A4.2 Error - missing order_no" id="9ff5addc-c7f4-4f23-bbd2-e3163a74dfda" timestamp="2025-12-11T02:57:57.745Z" tests="2" failures="0" errors="0" time="0.002">
    <testcase name="Returns 400" time="0.002" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Returns INVALID_REQUEST" time="0.002" classname="Prd008DeepTravelPhase1PackageBooking"/>
  </testsuite>
  <testsuite name="A4. Order Creation (DB Required) / A4.3 Error - invalid customer type" id="1201f085-e1fa-4e75-9049-6191fe52798b" timestamp="2025-12-11T02:57:57.745Z" tests="2" failures="0" errors="0" time="0.001">
    <testcase name="Returns 400" time="0.001" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Returns INVALID_REQUEST" time="0.001" classname="Prd008DeepTravelPhase1PackageBooking"/>
  </testsuite>
  <testsuite name="A4. Order Creation (DB Required) / A4.4 Error - unauthorized" id="cb386f46-f9eb-4021-a94b-4f58116c0374" timestamp="2025-12-11T02:57:57.745Z" tests="1" failures="0" errors="0" time="0.002">
    <testcase name="Returns 401" time="0.002" classname="Prd008DeepTravelPhase1PackageBooking"/>
  </testsuite>
  <testsuite name="A5. Order Management (DB Required) / A5.1 Get order list" id="91abcf12-9052-4400-aaa9-f080bd58845b" timestamp="2025-12-11T02:57:57.745Z" tests="3" failures="0" errors="0" time="0.713">
    <testcase name="Returns 200" time="0.713" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Returns orders array" time="0.713" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Has pagination info" time="0.713" classname="Prd008DeepTravelPhase1PackageBooking"/>
  </testsuite>
  <testsuite name="A5. Order Management (DB Required) / A5.2 Get order detail" id="6ac96fdb-e29b-4185-9d82-a8d0462720ce" timestamp="2025-12-11T02:57:57.745Z" tests="3" failures="0" errors="0" time="0.656">
    <testcase name="Returns 200" time="0.656" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Returns order detail" time="0.656" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Has tickets array" time="0.656" classname="Prd008DeepTravelPhase1PackageBooking"/>
  </testsuite>
  <testsuite name="A5. Order Management (DB Required) / A5.3 Error - unauthorized" id="44e4c426-5cca-47f3-afe9-53ee77cccdb1" timestamp="2025-12-11T02:57:57.745Z" tests="1" failures="0" errors="0" time="0.003">
    <testcase name="Returns 401" time="0.003" classname="Prd008DeepTravelPhase1PackageBooking"/>
  </testsuite>
  <testsuite name="A6. Simulate Payment (DB Required) / A6.1 Simulate payment - success" id="1baa35c2-c274-4f05-a63a-801f8ee1e2d9" timestamp="2025-12-11T02:57:57.745Z" tests="4" failures="0" errors="0" time="5.199">
    <testcase name="Returns 200" time="5.199" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Returns success message" time="5.199" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Order status is paid/confirmed" time="5.199" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Tickets generated" time="5.199" classname="Prd008DeepTravelPhase1PackageBooking"/>
  </testsuite>
  <testsuite name="A6. Simulate Payment (DB Required) / A6.2 Error - order not found" id="227a275e-c9ca-487c-bc04-ff6cefc7ba61" timestamp="2025-12-11T02:57:57.745Z" tests="2" failures="0" errors="0" time="0.921">
    <testcase name="Returns 404" time="0.921" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Returns ORDER_NOT_FOUND" time="0.921" classname="Prd008DeepTravelPhase1PackageBooking"/>
  </testsuite>
  <testsuite name="A6. Simulate Payment (DB Required) / A6.3 Error - already paid (invalid status)" id="3c00ea33-4697-4617-9d8b-cb437bd2b74f" timestamp="2025-12-11T02:57:57.745Z" tests="2" failures="0" errors="0" time="2.111">
    <testcase name="Returns 200 or 400" time="2.111" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Payment is idempotent (returns success message)" time="2.111" classname="Prd008DeepTravelPhase1PackageBooking"/>
  </testsuite>
  <testsuite name="A6. Simulate Payment (DB Required) / A6.4 Error - unauthorized" id="ac36cf02-fa79-44fa-bf68-4c81b6d6575d" timestamp="2025-12-11T02:57:57.745Z" tests="1" failures="0" errors="0" time="0.002">
    <testcase name="Returns 401" time="0.002" classname="Prd008DeepTravelPhase1PackageBooking"/>
  </testsuite>
  <testsuite name="A7. Ticket QR Generation (DB Required) / A7.1 Generate QR - success (default expiry)" id="6891e6d8-4d62-4cca-8463-f187bde0ca8c" timestamp="2025-12-11T02:57:57.745Z" tests="5" failures="0" errors="0" time="2.491">
    <testcase name="Returns 200" time="2.491" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Returns success" time="2.491" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Has QR image" time="2.491" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Has expiry info" time="2.491" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Has jti for invalidation" time="2.491" classname="Prd008DeepTravelPhase1PackageBooking"/>
  </testsuite>
  <testsuite name="A7. Ticket QR Generation (DB Required) / A7.2 Generate QR - custom expiry (60 min)" id="ccd9f162-bd02-4c24-94af-5d8e6919bcad" timestamp="2025-12-11T02:57:57.745Z" tests="3" failures="0" errors="0" time="2.465">
    <testcase name="Returns 200" time="2.465" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Respects custom expiry" time="2.465" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="New jti generated (old QR invalidated)" time="2.465" classname="Prd008DeepTravelPhase1PackageBooking"/>
  </testsuite>
  <testsuite name="A7. Ticket QR Generation (DB Required) / A7.3 Error - ticket not found" id="5e0eb827-db99-46bc-b5bb-e192c8c9a3f0" timestamp="2025-12-11T02:57:57.745Z" tests="2" failures="0" errors="0" time="0.310">
    <testcase name="Returns 404" time="0.310" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Returns TICKET_NOT_FOUND" time="0.310" classname="Prd008DeepTravelPhase1PackageBooking"/>
  </testsuite>
  <testsuite name="A7. Ticket QR Generation (DB Required) / A7.4 Error - invalid expiry" id="d294b877-067a-495f-ab2a-788568bf1a14" timestamp="2025-12-11T02:57:57.745Z" tests="2" failures="0" errors="0" time="0.004">
    <testcase name="Returns 400" time="0.004" classname="Prd008DeepTravelPhase1PackageBooking"/>
    <testcase name="Returns INVALID_EXPIRY" time="0.004" classname="Prd008DeepTravelPhase1PackageBooking"/>
  </testsuite>
  <testsuite name="A7. Ticket QR Generation (DB Required) / A7.5 Error - unauthorized" id="12da718a-70d4-46fa-912a-6afa1efbcfbb" timestamp="2025-12-11T02:57:57.745Z" tests="1" failures="0" errors="0" time="0.008">
    <testcase name="Returns 401" time="0.008" classname="Prd008DeepTravelPhase1PackageBooking"/>
  </testsuite>
</testsuites>