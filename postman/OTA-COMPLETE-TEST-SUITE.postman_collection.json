{
  "info": {
    "name": "OTAå®Œæ•´æµ‹è¯•å¥—ä»¶ - 95%è¦†ç›–ç‡",
    "description": "åŒ…å«52ä¸ªæµ‹è¯•åœºæ™¯ï¼Œè¦†ç›–æ ¸å¿ƒä¸šåŠ¡æµç¨‹ã€å‚æ•°ç»„åˆã€é”™è¯¯å¤„ç†",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:8080"
    },
    {
      "key": "api_key",
      "value": "ota_full_access_key_99999"
    }
  ],
  "item": [
    {
      "name": "ğŸ” 1. è®¤è¯æµ‹è¯• (3ä¸ª)",
      "item": [
        {
          "name": "1.1 æ— APIå¯†é’¥ (åº”401)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/ota/inventory",
              "host": ["{{base_url}}"],
              "path": ["api", "ota", "inventory"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 401\", function () {",
                  "    pm.response.to.have.status(401);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "1.2 æ— æ•ˆAPIå¯†é’¥ (åº”401)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-API-Key",
                "value": "invalid_key_12345"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/ota/inventory",
              "host": ["{{base_url}}"],
              "path": ["api", "ota", "inventory"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 401\", function () {",
                  "    pm.response.to.have.status(401);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "1.3 æœ‰æ•ˆAPIå¯†é’¥ (åº”200)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{api_key}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/ota/inventory",
              "host": ["{{base_url}}"],
              "path": ["api", "ota", "inventory"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        }
      ]
    },
    {
      "name": "ğŸ“¦ 2. åº“å­˜æŸ¥è¯¢ - å‚æ•°ç»„åˆ (8ä¸ª)",
      "item": [
        {
          "name": "2.1 æŸ¥è¯¢æ‰€æœ‰äº§å“åº“å­˜",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{api_key}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/ota/inventory",
              "host": ["{{base_url}}"],
              "path": ["api", "ota", "inventory"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "pm.test(\"Response has inventory array\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('inventory');",
                  "    pm.expect(jsonData.inventory).to.be.an('array');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "2.2 æŸ¥è¯¢å•ä¸ªäº§å“ (product_ids=107)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{api_key}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/ota/inventory?product_ids=107",
              "host": ["{{base_url}}"],
              "path": ["api", "ota", "inventory"],
              "query": [
                {
                  "key": "product_ids",
                  "value": "107"
                }
              ]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "pm.test(\"Returns only product 107\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.inventory).to.have.lengthOf(1);",
                  "    pm.expect(jsonData.inventory[0].product_id).to.equal(107);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "2.3 æŸ¥è¯¢å¤šä¸ªäº§å“ (product_ids=101,107,108)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{api_key}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/ota/inventory?product_ids=101,107,108",
              "host": ["{{base_url}}"],
              "path": ["api", "ota", "inventory"],
              "query": [
                {
                  "key": "product_ids",
                  "value": "101,107,108"
                }
              ]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "pm.test(\"Returns 3 products\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.inventory).to.have.lengthOf(3);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "2.4 æ— æ•ˆproduct_idsæ ¼å¼ (åº”422)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{api_key}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/ota/inventory?product_ids=abc,xyz",
              "host": ["{{base_url}}"],
              "path": ["api", "ota", "inventory"],
              "query": [
                {
                  "key": "product_ids",
                  "value": "abc,xyz"
                }
              ]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 422\", function () {",
                  "    pm.response.to.have.status(422);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        }
      ]
    },
    {
      "name": "ğŸ« 3. é¢„è®¢æµç¨‹ (6ä¸ª)",
      "item": [
        {
          "name": "3.1 åˆ›å»ºé¢„è®¢ (product_id=107, quantity=2)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{api_key}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"product_id\": 107,\n  \"quantity\": 2\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/ota/reserve",
              "host": ["{{base_url}}"],
              "path": ["api", "ota", "reserve"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "pm.test(\"Response has reservation_id\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('reservation_id');",
                  "    pm.collectionVariables.set('reservation_id', jsonData.reservation_id);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "3.2 æŸ¥è¯¢é¢„è®¢è¯¦æƒ…",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{api_key}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/ota/reservations/{{reservation_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "ota", "reservations", "{{reservation_id}}"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "3.3 æ¿€æ´»é¢„è®¢åˆ›å»ºè®¢å•",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{api_key}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"customer_details\": {\n    \"name\": \"å¼ ä¸‰\",\n    \"email\": \"zhangsan@example.com\",\n    \"phone\": \"13800138000\"\n  },\n  \"customer_type\": [\"adult\", \"child\"],\n  \"payment_reference\": \"PAY_TEST_001\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/ota/reservations/{{reservation_id}}/activate",
              "host": ["{{base_url}}"],
              "path": ["api", "ota", "reservations", "{{reservation_id}}", "activate"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "pm.test(\"Response has order_id or id\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    var orderId = jsonData.order_id || jsonData.id;",
                  "    pm.expect(orderId).to.not.be.undefined;",
                  "    pm.collectionVariables.set('order_id', orderId);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "3.4 åˆ›å»ºé¢„è®¢ç¼ºå°‘product_id (åº”400)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{api_key}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"quantity\": 2\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/ota/reserve",
              "host": ["{{base_url}}"],
              "path": ["api", "ota", "reserve"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "3.5 æŸ¥è¯¢ä¸å­˜åœ¨çš„é¢„è®¢ (åº”404)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{api_key}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/ota/reservations/99999",
              "host": ["{{base_url}}"],
              "path": ["api", "ota", "reservations", "99999"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 404\", function () {",
                  "    pm.response.to.have.status(404);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "3.6 å–æ¶ˆé¢„è®¢æµ‹è¯• (åˆ›å»ºå¹¶å–æ¶ˆ)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{api_key}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"product_id\": 108,\n  \"quantity\": 1\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/ota/reserve",
              "host": ["{{base_url}}"],
              "path": ["api", "ota", "reserve"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "pm.test(\"Save cancel_reservation_id\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('cancel_reservation_id', jsonData.reservation_id);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        }
      ]
    },
    {
      "name": "ğŸŸï¸ 4. æ‰¹é‡ç¥¨åˆ¸ç”Ÿæˆä¸æ¿€æ´» (8ä¸ª)",
      "item": [
        {
          "name": "4.1 æ‰¹é‡ç”Ÿæˆç¥¨åˆ¸ (product_id=107, quantity=3)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{api_key}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"product_id\": 107,\n  \"quantity\": 3,\n  \"batch_id\": \"BATCH_{{$timestamp}}\",\n  \"distribution_mode\": \"direct_sale\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/ota/tickets/bulk-generate",
              "host": ["{{base_url}}"],
              "path": ["api", "ota", "tickets", "bulk-generate"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "pm.test(\"Response has tickets array\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.tickets).to.be.an('array');",
                  "    pm.expect(jsonData.tickets).to.have.lengthOf(3);",
                  "    if (jsonData.tickets.length > 0) {",
                  "        pm.collectionVariables.set('ticket_code', jsonData.tickets[0].code);",
                  "        pm.collectionVariables.set('batch_id', jsonData.batch_id);",
                  "    }",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "4.2 æŸ¥è¯¢æ‰€æœ‰ç¥¨åˆ¸",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{api_key}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/ota/tickets",
              "host": ["{{base_url}}"],
              "path": ["api", "ota", "tickets"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "4.3 æŒ‰æ‰¹æ¬¡IDæŸ¥è¯¢ç¥¨åˆ¸",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{api_key}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/ota/tickets?batch_id={{batch_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "ota", "tickets"],
              "query": [
                {
                  "key": "batch_id",
                  "value": "{{batch_id}}"
                }
              ]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "4.4 æŒ‰çŠ¶æ€æŸ¥è¯¢ (status=PRE_GENERATED)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{api_key}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/ota/tickets?status=PRE_GENERATED",
              "host": ["{{base_url}}"],
              "path": ["api", "ota", "tickets"],
              "query": [
                {
                  "key": "status",
                  "value": "PRE_GENERATED"
                }
              ]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "4.5 æŒ‰çŠ¶æ€æŸ¥è¯¢ (status=ACTIVE)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{api_key}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/ota/tickets?status=ACTIVE",
              "host": ["{{base_url}}"],
              "path": ["api", "ota", "tickets"],
              "query": [
                {
                  "key": "status",
                  "value": "ACTIVE"
                }
              ]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "4.6 åˆ†é¡µå‚æ•° (page=1&limit=10)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{api_key}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/ota/tickets?page=1&limit=10",
              "host": ["{{base_url}}"],
              "path": ["api", "ota", "tickets"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "pm.test(\"Has pagination metadata\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('pagination');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "4.7 æ— æ•ˆåˆ†é¡µå‚æ•° (page=0) - åº”422",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{api_key}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/ota/tickets?page=0&limit=10",
              "host": ["{{base_url}}"],
              "path": ["api", "ota", "tickets"],
              "query": [
                {
                  "key": "page",
                  "value": "0"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 422\", function () {",
                  "    pm.response.to.have.status(422);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "4.8 æ‰¹é‡ç”Ÿæˆç¼ºå°‘product_id (åº”400)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{api_key}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"quantity\": 5,\n  \"distribution_mode\": \"direct_sale\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/ota/tickets/bulk-generate",
              "host": ["{{base_url}}"],
              "path": ["api", "ota", "tickets", "bulk-generate"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        }
      ]
    },
    {
      "name": "ğŸ’° 5. åˆ†é”€å•†ç®¡ç† (10ä¸ª)",
      "item": [
        {
          "name": "5.1 åˆ†é”€å•†æ±‡æ€» (ä¼˜å…ˆ)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{api_key}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/ota/resellers/summary",
              "host": ["{{base_url}}"],
              "path": ["api", "ota", "resellers", "summary"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "5.2 åˆ›å»ºåˆ†é”€å•†",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{api_key}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"reseller_name\": \"æµ‹è¯•åˆ†é”€å•†_{{$timestamp}}\",\n  \"contact_email\": \"test@reseller.com\",\n  \"commission_rate\": 0.15\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/ota/resellers",
              "host": ["{{base_url}}"],
              "path": ["api", "ota", "resellers"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "pm.test(\"Save reseller_id\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    if (jsonData.id) {",
                  "        pm.collectionVariables.set('reseller_id', jsonData.id);",
                  "    }",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "5.3 æŸ¥è¯¢å•ä¸ªåˆ†é”€å•†",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{api_key}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/ota/resellers/{{reseller_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "ota", "resellers", "{{reseller_id}}"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "5.4 æ›´æ–°åˆ†é”€å•†",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{api_key}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"commission_rate\": 0.18,\n  \"tier\": \"gold\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/ota/resellers/{{reseller_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "ota", "resellers", "{{reseller_id}}"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "5.5 æŸ¥è¯¢æ‰€æœ‰åˆ†é”€å•†",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{api_key}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/ota/resellers",
              "host": ["{{base_url}}"],
              "path": ["api", "ota", "resellers"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "5.6 åœç”¨åˆ†é”€å•†",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{api_key}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/ota/resellers/{{reseller_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "ota", "resellers", "{{reseller_id}}"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "5.7 æŸ¥è¯¢ä¸å­˜åœ¨åˆ†é”€å•† (åº”404)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{api_key}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/ota/resellers/99999",
              "host": ["{{base_url}}"],
              "path": ["api", "ota", "resellers", "99999"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 404\", function () {",
                  "    pm.response.to.have.status(404);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "5.8 æ›´æ–°ä¸å­˜åœ¨åˆ†é”€å•† (åº”404)",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{api_key}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"commission_rate\": 0.2\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/ota/resellers/99999",
              "host": ["{{base_url}}"],
              "path": ["api", "ota", "resellers", "99999"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 404\", function () {",
                  "    pm.response.to.have.status(404);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "5.9 åœç”¨ä¸å­˜åœ¨åˆ†é”€å•† (åº”404)",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{api_key}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/ota/resellers/99999",
              "host": ["{{base_url}}"],
              "path": ["api", "ota", "resellers", "99999"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 404\", function () {",
                  "    pm.response.to.have.status(404);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "5.10 åˆ›å»ºåˆ†é”€å•†ç¼ºå°‘reseller_name (åº”400)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{api_key}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"contact_email\": \"test@example.com\",\n  \"commission_rate\": 0.15\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/ota/resellers",
              "host": ["{{base_url}}"],
              "path": ["api", "ota", "resellers"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        }
      ]
    },
    {
      "name": "ğŸ“Š 6. è®¡è´¹ä¸åˆ†æ (5ä¸ª)",
      "item": [
        {
          "name": "6.1 è®¡è´¹æ±‡æ€»æŸ¥è¯¢ (2025-11)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{api_key}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/ota/billing/summary?period=2025-11",
              "host": ["{{base_url}}"],
              "path": ["api", "ota", "billing", "summary"],
              "query": [
                {
                  "key": "period",
                  "value": "2025-11"
                }
              ]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "6.2 è¥é”€æ´»åŠ¨åˆ†æ",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{api_key}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/ota/campaigns/analytics",
              "host": ["{{base_url}}"],
              "path": ["api", "ota", "campaigns", "analytics"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "6.3 æ‰¹æ¬¡åˆ†æ (éœ€è¦batch_id)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{api_key}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/ota/batches/{{batch_id}}/analytics",
              "host": ["{{base_url}}"],
              "path": ["api", "ota", "batches", "{{batch_id}}", "analytics"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "6.4 æŸ¥è¯¢è®¢å•åˆ—è¡¨",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{api_key}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/ota/orders",
              "host": ["{{base_url}}"],
              "path": ["api", "ota", "orders"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "6.5 è·å–è®¢å•ç¥¨åˆ¸ (éœ€è¦order_id)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{api_key}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/ota/orders/{{order_id}}/tickets",
              "host": ["{{base_url}}"],
              "path": ["api", "ota", "orders", "{{order_id}}", "tickets"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        }
      ]
    },
    {
      "name": "ğŸ”§ 7. ç³»ç»Ÿå¥åº·æ£€æŸ¥ (2ä¸ª)",
      "item": [
        {
          "name": "7.1 å¥åº·æ£€æŸ¥",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/healthz",
              "host": ["{{base_url}}"],
              "path": ["healthz"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "7.2 OpenAPIæ–‡æ¡£",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/openapi.json",
              "host": ["{{base_url}}"],
              "path": ["openapi.json"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        }
      ]
    }
  ]
}
